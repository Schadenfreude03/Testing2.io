<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<style>
#ready, #loader {display:none;position:absolute;left:0;top:0;right:0;bottom:0;height:auto;margin:100px;text-align:center;}
p{line-height:3em;}
</style>
</head>
<body>
<script type="text/javascript" src="ChemDoodleWeb.js">
  function accomodate(result){
    window.parent.cifdata = result.replace(/"/g, '\x22').replace(/'/g, '\x27');
    window.parent.playerdata = window.parent.cifdata;
}
var xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
xmlhttp.onreadystatechange = function(){
    if (xmlhttp.readyState == 4){
        if (xmlhttp.status == 200){
            window.accomodate(xmlhttp.responseText);
        } else alert("Error: cannot load sample data!");
    xmlhttp.open("GET", './structure.cif');
    xmlhttp.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 2000 00:00:00 GMT");
    xmlhttp.send(1);
    }
}
var cif = ChemDoodle.readCIF(window.parent.cifdata, 1, 1, 1);
var crystalTransformer = new ChemDoodle.TransformCanvas3D('ribbonTransformer', window.innerWidth, window.innerHeight);
crystalTransformer.specs.set3DRepresentation('Ball and Stick');
crystalTransformer.specs.backgroundColor = '#ffffff';
crystalTransformer.specs.projectionPerspective_3D = false;
crystalTransformer.specs.atoms_displayLabels_3D = true;
crystalTransformer.specs.crystals_unitCellLineWidth = 1;
crystalTransformer.specs.shapes_color = 'black';
crystalTransformer.specs.shapes_lineWidth = 1;
crystalTransformer.loadContent([cif.molecule], [cif.unitCell]);
</script>
</body>
</html>
